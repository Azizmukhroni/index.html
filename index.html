<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Integrasi Aman Database Kasir dan Pengaduan</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #1a2a6c, #b21f1f, #fdbb2d);
            color: #333;
            min-height: 100vh;
            padding: 20px;
            line-height: 1.6;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            overflow: hidden;
        }
        
        header {
            background: #2c3e50;
            color: white;
            padding: 30px;
            text-align: center;
        }
        
        h1 {
            font-size: 2.5rem;
            margin-bottom: 15px;
        }
        
        .subtitle {
            font-size: 1.2rem;
            opacity: 0.9;
        }
        
        .content {
            display: flex;
            flex-wrap: wrap;
            padding: 20px;
        }
        
        .info-section {
            flex: 1;
            min-width: 300px;
            padding: 20px;
        }
        
        .demo-section {
            flex: 1;
            min-width: 300px;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 10px;
        }
        
        h2 {
            color: #2c3e50;
            margin: 20px 0 15px;
            padding-bottom: 10px;
            border-bottom: 2px solid #3498db;
        }
        
        h3 {
            color: #2c3e50;
            margin: 15px 0 10px;
        }
        
        p {
            margin-bottom: 15px;
        }
        
        ul {
            margin-left: 20px;
            margin-bottom: 20px;
        }
        
        li {
            margin-bottom: 8px;
        }
        
        .security-box {
            background: #e8f4fc;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            border-left: 4px solid #3498db;
        }
        
        .warning-box {
            background: #fff3cd;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            border-left: 4px solid #ffc107;
        }
        
        .danger-box {
            background: #f8d7da;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            border-left: 4px solid #dc3545;
        }
        
        .form-group {
            margin-bottom: 15px;
        }
        
        label {
            display: block;
            margin-bottom: 5px;
            font-weight: 600;
        }
        
        input, select, textarea {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 16px;
        }
        
        button {
            background: #3498db;
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 600;
            transition: background 0.3s;
            margin-right: 10px;
            margin-bottom: 10px;
        }
        
        button:hover {
            background: #2980b9;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }
        
        th, td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }
        
        th {
            background: #2c3e50;
            color: white;
        }
        
        tr:nth-child(even) {
            background: #f8f9fa;
        }
        
        tr:hover {
            background: #e8f4fc;
        }
        
        .code-block {
            background: #2b2b2b;
            color: #f8f8f2;
            padding: 15px;
            border-radius: 5px;
            margin: 15px 0;
            overflow-x: auto;
            font-family: Consolas, Monaco, 'Andale Mono', monospace;
        }
        
        .status-indicator {
            display: inline-block;
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 14px;
            font-weight: 600;
        }
        
        .status-safe {
            background: #d4edda;
            color: #155724;
        }
        
        .status-warning {
            background: #fff3cd;
            color: #856404;
        }
        
        .status-danger {
            background: #f8d7da;
            color: #721c24;
        }
        
        footer {
            text-align: center;
            padding: 20px;
            background: #2c3e50;
            color: white;
        }
        
        @media (max-width: 768px) {
            .content {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Integrasi Aman Database Kasir & Pengaduan</h1>
            <p class="subtitle">Solusi Teraman untuk Menghubungkan Sistem Pengaduan dengan Database Kasir</p>
        </header>
        
        <div class="content">
            <div class="info-section">
                <h2>Strategi Keamanan Database Kasir</h2>
                
                <div class="security-box">
                    <h3>‚úîÔ∏è Database Terpisah dengan Hak Akses Terbatas</h3>
                    <p>Buat database terpisah khusus untuk aplikasi pengaduan dengan user yang hanya memiliki akses ke database tersebut, bukan ke database kasir.</p>
                </div>
                
                <div class="security-box">
                    <h3>‚úîÔ∏è Backup Rutin dan Terencana</h3>
                    <p>Lakukan backup database kasir sebelum melakukan perubahan apapun dan jadwalkan backup rutin untuk kedua database.</p>
                </div>
                
                <div class="security-box">
                    <h3>‚úîÔ∏è Monitoring Performa Terus Menerus</h3>
                    <p>Pantau penggunaan resource database untuk memastikan operasional kasir tidak terganggu oleh aktivitas sistem pengaduan.</p>
                </div>
                
                <h2>Langkah-Langkah Pengamanan</h2>
                
                <div class="warning-box">
                    <h3>üîß 1. Buat Database Terpisah</h3>
                    <p>Jangan gunakan database kasir yang sama. Buat database baru khusus untuk sistem pengaduan.</p>
                    <div class="code-block">
                        -- Buat database baru<br>
                        CREATE DATABASE db_pengaduan;<br><br>
                        
                        -- Buat user khusus dengan password kuat<br>
                        CREATE USER 'pengaduan_user'@'localhost' IDENTIFIED BY 'PasswordKuat123!';<br><br>
                        
                        -- Berikan hak akses hanya ke database pengaduan<br>
                        GRANT ALL PRIVILEGES ON db_pengaduan.* TO 'pengaduan_user'@'localhost';<br><br>
                        
                        -- Segarkan hak akses<br>
                        FLUSH PRIVILEGES;
                    </div>
                </div>
                
                <div class="warning-box">
                    <h3>üìä 2. Batasi Koneksi dan Query</h3>
                    <p>Batasi jumlah koneksi dan query per user untuk mencegah overload pada server database.</p>
                    <div class="code-block">
                        -- Batasi resource untuk user pengaduan<br>
                        GRANT USAGE ON *.* TO 'pengaduan_user'@'localhost' WITH<br>
                        &nbsp;&nbsp;MAX_QUERIES_PER_HOUR 1000<br>
                        &nbsp;&nbsp;MAX_UPDATES_PER_HOUR 100<br>
                        &nbsp;&nbsp;MAX_CONNECTIONS_PER_HOUR 100;<br>
                    </div>
                </div>
                
                <div class="warning-box">
                    <h3>üîê 3. Gunakan Koneksi Terenkripsi</h3>
                    <p>Pastikan koneksi antara aplikasi dan database dienkripsi menggunakan SSL.</p>
                    <div class="code-block">
                        // Contoh koneksi PHP dengan SSL<br>
                        $mysqli = new mysqli($host, $user, $password, $database, $port, $socket);<br>
                        if ($mysqli->ssl_set(NULL, NULL, '/path/to/ca-cert.pem', NULL, NULL)) {<br>
                        &nbsp;&nbsp;echo "SSL koneksi berhasil";<br>
                        } else {<br>
                        &nbsp;&nbsp;echo "SSL koneksi gagal";<br>
                        }
                    </div>
                </div>
                
                <h2>Pemantauan Performa</h2>
                
                <div class="security-box">
                    <h3>üìà Monitor Resource Database</h3>
                    <p>Gunakan tools seperti MySQL Workbench atau phpMyAdmin untuk memantau:</p>
                    <ul>
                        <li>CPU dan memory usage</li>
                        <li>Jumlah koneksi aktif</li>
                        <li>Query yang paling banyak menggunakan resource</li>
                        <li>Lama waktu eksekusi query</li>
                    </ul>
                </div>
                
                <div class="security-box">
                    <h3>‚ö° Optimasi Query dan Indexing</h3>
                    <p>Pastikan query pada database pengaduan dioptimalkan dengan baik dan menggunakan index yang tepat.</p>
                    <div class="code-block">
                        -- Contoh membuat index<br>
                        CREATE INDEX idx_status ON pengaduan (status);<br>
                        CREATE INDEX idx_tanggal ON pengaduan (tanggal_lapor);
                    </div>
                </div>
            </div>
            
            <div class="demo-section">
                <h2>Simulator Manajemen Database Aman</h2>
                <p>Status Keamanan: <span class="status-indicator status-safe">Database Terpisah - AMAN</span></p>
                
                <h3>Konfigurasi Database</h3>
                <div class="form-group">
                    <label for="dbType">Jenis Database</label>
                    <select id="dbType">
                        <option value="separate">Database Terpisah (Rekomendasi)</option>
                        <option value="same">Database Sama (Tidak Disarankan)</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="dbName">Nama Database</label>
                    <input type="text" id="dbName" value="db_pengaduan" placeholder="Nama database">
                </div>
                
                <div class="form-group">
                    <label for="dbUser">Username</label>
                    <input type="text" id="dbUser" value="pengaduan_user" placeholder="Username database">
                </div>
                
                <div class="form-group">
                    <label for="dbPass">Password</label>
                    <input type="password" id="dbPass" placeholder="Password yang kuat">
                </div>
                
                <button onclick="testSecurity()">Test Konfigurasi Keamanan</button>
                <button onclick="applyConfig()">Terapkan Konfigurasi</button>
                
                <div id="securityResult"></div>
                
                <h3>Simulasi Backup Database</h3>
                <p>Status Backup Terakhir: <span id="backupStatus">Belum dilakukan</span></p>
                
                <button onclick="simulateBackup()">Simulasi Backup Database Kasir</button>
                <button onclick="simulateRestore()">Simulasi Restore dari Backup</button>
                
                <h3>Monitor Performa</h3>
                <div class="form-group">
                    <label>Penggunaan CPU Database: <span id="cpuUsage">25%</span></label>
                    <div style="background: #ddd; height: 20px; border-radius: 10px; margin-top: 5px;">
                        <div id="cpuBar" style="background: #2ecc71; height: 100%; width: 25%; border-radius: 10px;"></div>
                    </div>
                </div>
                
                <div class="form-group">
                    <label>Penggunaan Memory Database: <span id="memUsage">40%</span></label>
                    <div style="background: #ddd; height: 20px; border-radius: 10px; margin-top: 5px;">
                        <div id="memBar" style="background: #3498db; height: 100%; width: 40%; border-radius: 10px;"></div>
                    </div>
                </div>
                
                <div class="form-group">
                    <label>Jumlah Koneksi Aktif: <span id="connCount">5</span></label>
                    <div style="background: #ddd; height: 20px; border-radius: 10px; margin-top: 5px;">
                        <div id="connBar" style="background: #f39c12; height: 100%; width: 25%; border-radius: 10px;"></div>
                    </div>
                </div>
                
                <button onclick="startMonitoring()">Mulai Pemantauan</button>
                <button onclick="stressTest()">Test Beban Database</button>
                
                <h3>Log Aktivitas</h3>
                <div style="height: 150px; overflow-y: scroll; border: 1px solid #ddd; padding: 10px; margin-top: 10px; background: #fff; border-radius: 5px;">
                    <div id="activityLog">
                        <div>[INFO] Sistem monitor diinisialisasi</div>
                    </div>
                </div>
            </div>
        </div>
        
        <footer>
            <p>¬© 2023 Integrasi Aman Database Kasir & Pengaduan - Protokol Keamanan Tingkat Tinggi</p>
        </footer>
    </div>

    <script>
        // Variabel untuk simulasi
        let cpuUsage = 25;
        let memUsage = 40;
        let connCount = 5;
        let backupStatus = "Belum dilakukan";
        let monitoringInterval;
        
        // Fungsi untuk test keamanan konfigurasi
        function testSecurity() {
            const dbType = document.getElementById('dbType').value;
            const dbName = document.getElementById('dbName').value;
            const dbUser = document.getElementById('dbUser').value;
            const dbPass = document.getElementById('dbPass').value;
            
            let resultHTML = "";
            
            if (dbType === "same") {
                resultHTML = `<div class="danger-box">
                    <h3>‚ö†Ô∏è KONFIGURASI BERBAHAYA</h3>
                    <p>Menggunakan database yang sama dengan sistem kasir sangat berisiko. Hal ini dapat mengganggu operasional kasir dan membahayakan data transaksi.</p>
                    <p>Rekomendasi: Gunakan database terpisah untuk sistem pengaduan.</p>
                </div>`;
            } else {
                // Test kekuatan password
                let passwordStrength = "Lemah";
                if (dbPass.length >= 12 && /[A-Z]/.test(dbPass) && /[0-9]/.test(dbPass) && /[^A-Za-z0-9]/.test(dbPass)) {
                    passwordStrength = "Sangat Kuat";
                } else if (dbPass.length >= 8 && /[A-Z]/.test(dbPass) && /[0-9]/.test(dbPass)) {
                    passwordStrength = "Kuat";
                } else if (dbPass.length >= 6) {
                    passwordStrength = "Cukup";
                }
                
                resultHTML = `<div class="security-box">
                    <h3>‚úÖ KONFIGURASI AMAN</h3>
                    <p>Database terpisah: <strong>${dbName}</strong></p>
                    <p>User khusus: <strong>${dbUser}</strong></p>
                    <p>Kekuatan password: <strong>${passwordStrength}</strong></p>
                    <p>Status: Konfigurasi ini aman untuk digunakan dan tidak akan mengganggu database kasir.</p>
                </div>`;
            }
            
            document.getElementById('securityResult').innerHTML = resultHTML;
            addLog("Test keamanan konfigurasi dilakukan");
        }
        
        // Fungsi untuk menerapkan konfigurasi
        function applyConfig() {
            const dbType = document.getElementById('dbType').value;
            
            if (dbType === "same") {
                if (!confirm("Peringatan: Menggunakan database yang sama dengan sistem kasir dapat membahayakan operasional. Apakah Anda yakin?")) {
                    return;
                }
            }
            
            addLog("Konfigurasi database diterapkan");
            alert("Konfigurasi berhasil diterapkan!");
        }
        
        // Fungsi untuk simulasi backup
        function simulateBackup() {
            addLog("Memulai backup database kasir...");
            
            // Simulasi proses backup
            setTimeout(() => {
                const now = new Date();
                backupStatus = now.toLocaleString();
                document.getElementById('backupStatus').textContent = backupStatus;
                addLog("Backup database kasir berhasil diselesaikan");
                alert(`Backup berhasil dibuat pada: ${backupStatus}`);
            }, 2000);
        }
        
        // Fungsi untuk simulasi restore
        function simulateRestore() {
            if (backupStatus === "Belum dilakukan") {
                alert("Belum ada backup yang dibuat!");
                return;
            }
            
            addLog("Memulai restore database dari backup...");
            
            // Simulasi proses restore
            setTimeout(() => {
                addLog("Restore database berhasil dilakukan");
                alert(`Database berhasil direstore dari backup: ${backupStatus}`);
            }, 2000);
        }
        
        // Fungsi untuk memulai pemantauan
        function startMonitoring() {
            addLog("Memulai pemantauan performa database...");
            
            if (monitoringInterval) {
                clearInterval(monitoringInterval);
            }
            
            // Update data secara acak untuk simulasi
            monitoringInterval = setInterval(() => {
                cpuUsage = Math.min(100, Math.max(5, cpuUsage + (Math.random() * 10 - 5)));
                memUsage = Math.min(100, Math.max(10, memUsage + (Math.random() * 8 - 4)));
                connCount = Math.min(20, Math.max(1, connCount + (Math.random() > 0.5 ? 1 : -1)));
                
                updateMonitoringUI();
            }, 2000);
        }
        
        // Fungsi untuk update UI pemantauan
        function updateMonitoringUI() {
            document.getElementById('cpuUsage').textContent = cpuUsage.toFixed(0) + "%";
            document.getElementById('memUsage').textContent = memUsage.toFixed(0) + "%";
            document.getElementById('connCount').textContent = connCount;
            
            document.getElementById('cpuBar').style.width = cpuUsage + "%";
            document.getElementById('memBar').style.width = memUsage + "%";
            document.getElementById('connBar').style.width = (connCount / 20 * 100) + "%";
            
            // Ubah warna berdasarkan beban
            document.getElementById('cpuBar').style.background = cpuUsage > 80 ? "#e74c3c" : (cpuUsage > 60 ? "#f39c12" : "#2ecc71");
            document.getElementById('memBar').style.background = memUsage > 80 ? "#e74c3c" : (memUsage > 60 ? "#f39c12" : "#3498db");
        }
        
        // Fungsi untuk test beban database
        function stressTest() {
            addLog("Memulai stress test database...");
            
            // Simulasi peningkatan beban
            let stressInterval = setInterval(() => {
                cpuUsage = Math.min(100, cpuUsage + 5);
                memUsage = Math.min(100, memUsage + 3);
                connCount = Math.min(20, connCount + 1);
                
                updateMonitoringUI();
                
                if (cpuUsage >= 95) {
                    clearInterval(stressInterval);
                    addLog("Stress test dihentikan: CPU mencapai batas maksimal");
                    alert("Peringatan: Beban database mencapai tingkat kritis!");
                }
            }, 500);
        }
        
        // Fungsi untuk menambah log aktivitas
        function addLog(message) {
            const now = new Date();
            const timeString = now.toLocaleTimeString();
            const logEntry = document.createElement('div');
            logEntry.innerHTML = `[${timeString}] ${message}`;
            document.getElementById('activityLog').prepend(logEntry);
        }
        
        // Inisialisasi
        document.addEventListener('DOMContentLoaded', function() {
            updateMonitoringUI();
            addLog("Sistem manajemen database diinisialisasi");
        });
    </script>
</body>
</html>