<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>AduanMasyarakat - Layanan Pengaduan Real-Time</title>

  <!-- PWA Meta Tags -->
  <link rel="manifest" href="/manifest.json">
  <meta name="theme-color" content="#2c3e50">

  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

  <!-- Google Fonts -->
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap">

  <style>
    /* === Sama persis dari index.html mas === */
    *{margin:0;padding:0;box-sizing:border-box;font-family:'Poppins',sans-serif}
    body{background-color:#f5f7fa;color:#333;max-width:100%;overflow-x:hidden}
    .container{max-width:100%;padding:0 15px}
    header{background:linear-gradient(135deg,#2c3e50,#4a6491);color:#fff;padding:15px 0;position:sticky;top:0;z-index:100;box-shadow:0 2px 10px rgba(0,0,0,.1)}
    .header-content{display:flex;justify-content:space-between;align-items:center;padding:0 15px}
    .logo{display:flex;align-items:center;gap:10px}
    .logo i{font-size:24px}
    .logo h1{font-size:20px;font-weight:600}
    .nav-toggle{background:none;border:none;color:#fff;font-size:20px;cursor:pointer;min-width:44px;min-height:44px}
    .hero{background:linear-gradient(rgba(44,62,80,.8),rgba(44,62,80,.8)),#2c3e50;color:#fff;padding:40px 20px;text-align:center}
    .hero h2{font-size:24px;margin-bottom:15px}
    .hero p{margin-bottom:20px;font-size:16px;max-width:600px;margin-left:auto;margin-right:auto}
    .btn{display:inline-block;background-color:#e74c3c;color:#fff;padding:12px 25px;border-radius:30px;text-decoration:none;font-weight:600;transition:.3s;border:none;cursor:pointer;min-height:44px}
    .btn:hover{background-color:#c0392b;transform:translateY(-2px);box-shadow:0 5px 15px rgba(0,0,0,.1)}
    .features{padding:40px 20px}
    .section-title{text-align:center;margin-bottom:30px;color:#2c3e50;font-size:24px}
    .feature-grid{display:grid;grid-template-columns:1fr;gap:20px}
    .feature-card{background:#fff;border-radius:10px;padding:20px;box-shadow:0 5px 15px rgba(0,0,0,.05);text-align:center}
    .feature-card i{font-size:40px;color:#3498db;margin-bottom:15px}
    .feature-card h3{margin-bottom:10px;color:#2c3e50}
    .app-screenshot{background-color:#2c3e50;padding:40px 20px;text-align:center;color:#fff}
    .screenshot-container{max-width:300px;margin:0 auto;position:relative}
    .phone-mockup{background:#ecf0f1;padding:40px 18px;height:500px;border-radius:30px;position:relative}
    .phone-content{background:#fff;height:100%;border-radius:25px;overflow:hidden;position:relative}
    .screen-content{padding:20px;color:#333;height:100%;overflow-y:auto}
    .complaint-item{border-bottom:1px solid #eee;padding:10px 0}
    .complaint-item h4{color:#2c3e50;margin-bottom:5px}
    .complaint-item p{font-size:14px;color:#7f8c8d}
    .status{display:inline-block;padding:3px 10px;border-radius:20px;font-size:12px;margin-top:5px}
    .status.process{background:#ffeaa7;color:#d35400}
    .status.done{background:#55efc4;color:#00b894}
    .download-section{padding:40px 20px;text-align:center;background:linear-gradient(135deg,#3498db,#2c3e50);color:#fff}
    .download-buttons{display:flex;justify-content:center;gap:15px;margin-top:20px;flex-wrap:wrap}
    .download-btn{display:flex;align-items:center;background:#fff;color:#2c3e50;padding:10px 20px;border-radius:8px;text-decoration:none;font-weight:600;transition:.3s;min-height:44px}
    .download-btn:hover{transform:translateY(-3px);box-shadow:0 5px 15px rgba(0,0,0,.1)}
    .download-btn i{margin-right:10px;font-size:24px}
    footer{background:#2c3e50;color:#fff;padding:30px 20px;text-align:center}
    .footer-content{max-width:600px;margin:0 auto}
    .footer-links{display:flex;justify-content:center;gap:20px;margin:20px 0;flex-wrap:wrap}
    .footer-links a{color:#ecf0f1;text-decoration:none;transition:.3s;padding:5px 10px}
    .footer-links a:hover{color:#3498db}
    .form-container{background:#fff;border-radius:10px;padding:20px;margin:20px auto;max-width:600px;box-shadow:0 5px 15px rgba(0,0,0,.05)}
    .form-group{margin-bottom:15px}
    .form-group label{display:block;margin-bottom:5px;font-weight:500}
    .form-group input,.form-group textarea,.form-group select{width:100%;padding:12px;border:1px solid #ddd;border-radius:5px;font-size:16px}
    .form-group textarea{min-height:100px}
  </style>
</head>
<body>
  <header>
    <div class="container">
      <div class="header-content">
        <div class="logo">
          <i class="fas fa-house-damage"></i>
          <h1>AduanMasyarakat</h1>
        </div>
        <button class="nav-toggle"><i class="fas fa-bars"></i></button>
      </div>
    </div>
  </header>

  <section class="hero">
    <div class="container">
      <h2>Laporkan masalah Anda dengan mudah dan cepat</h2>
      <p>Aplikasi pengaduan masyarakat real-time yang memudahkan Anda melaporkan masalah di lingkungan sekitar dan melacak status pengaduannya.</p>
      <a href="#download" class="btn">Download Sekarang</a>
    </div>
  </section>

  <section class="features">
    <div class="container">
      <h2 class="section-title">Fitur Unggulan</h2>
      <div class="feature-grid">
        <div class="feature-card"><i class="fas fa-bullhorn"></i><h3>Laporan Real-Time</h3><p>Kirim laporan dan dapatkan respon langsung</p></div>
        <div class="feature-card"><i class="fas fa-map-marked-alt"></i><h3>Lokasi Presisi</h3><p>Tentukan lokasi dengan akurat menggunakan GPS</p></div>
        <div class="feature-card"><i class="fas fa-camera"></i><h3>Lampiran Foto</h3><p>Sertakan foto sebagai bukti</p></div>
      </div>
    </div>
  </section>

  <section id="form-section" style="padding:40px 20px;">
    <div class="container">
      <h2 class="section-title">Buat Pengaduan Baru</h2>
      <div class="form-container">
        <form id="complaintForm">
          <div class="form-group">
            <label for="name">Nama Lengkap</label>
            <input type="text" id="name" required>
          </div>
          <div class="form-group">
            <label for="email">Email</label>
            <input type="email" id="email" required>
          </div>
          <div class="form-group">
            <label for="phone">Nomor Telepon</label>
            <input type="tel" id="phone">
          </div>
          <div class="form-group">
            <label for="location">Lokasi Kejadian</label>
            <input type="text" id="location" required>
          </div>
          <div class="form-group">
            <label for="category">Kategori</label>
            <select id="category" required>
              <option value="">Pilih Kategori</option>
              <option value="infrastruktur">Infrastruktur</option>
              <option value="kebersihan">Kebersihan</option>
              <option value="keamanan">Keamanan</option>
              <option value="lainnya">Lainnya</option>
            </select>
          </div>
          <div class="form-group">
            <label for="description">Deskripsi</label>
            <textarea id="description" required></textarea>
          </div>
          <div class="form-group">
            <label for="evidence">Upload Bukti (Foto/Dokumen)</label>
            <input type="file" id="evidence" accept="image/*,.pdf,.doc,.docx">
          </div>
          <button type="submit" class="btn">Kirim Pengaduan</button>
        </form>
      </div>
    </div>
  </section>

  <section id="download" class="download-section">
    <div class="container">
      <h2 class="section-title">Download Aplikasi Sekarang</h2>
      <a href="download.html" class="download-btn"><i class="fab fa-google-play"></i><span>Download App</span></a>
    </div>
  </section>

  <footer>
    <div class="footer-content">
      <p>Â© 2025 AduanMasyarakat. All rights reserved.</p>
    </div>
  </footer>

  <!-- Firebase -->
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
    import { getFirestore, collection, addDoc } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js";
    import { getStorage, ref, uploadBytes, getDownloadURL } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-storage.js";

    const firebaseConfig = {
      apiKey: "MASUKKAN_API_KEY",
      authDomain: "MASUKKAN_PROJECT.firebaseapp.com",
      projectId: "MASUKKAN_PROJECT",
      storageBucket: "MASUKKAN_PROJECT.appspot.com",
      messagingSenderId: "MASUKKAN_ID",
      appId: "MASUKKAN_APP_ID"
    };

    const app = initializeApp(firebaseConfig);
    const db = getFirestore(app);
    const storage = getStorage(app);

    document.getElementById("complaintForm").addEventListener("submit", async (e) => {
      e.preventDefault();
      const name = document.getElementById("name").value;
      const email = document.getElementById("email").value;
      const phone = document.getElementById("phone").value;
      const location = document.getElementById("location").value;
      const category = document.getElementById("category").value;
      const description = document.getElementById("description").value;
      const file = document.getElementById("evidence").files[0];

      let fileURL = "";
      if (file) {
        const storageRef = ref(storage, "evidence/" + Date.now() + "_" + file.name);
        await uploadBytes(storageRef, file);
        fileURL = await getDownloadURL(storageRef);
      }

      await addDoc(collection(db, "pengaduan"), {
        name, email, phone, location, category, description,
        evidence: fileURL,
        createdAt: new Date()
      });

      alert("Pengaduan berhasil dikirim!");
      e.target.reset();
    });
  </script>
</body>
</html>
